+++
title = 'ä¸ºhugoåšå®¢æ·»åŠ Gisusè¯„è®ºåŠŸèƒ½'
date = 2024-09-25T19:03:38+08:00
draft = false

tags=["æŠ€æœ¯","å‰ç«¯","å»ºç«™"]

series = ["åšå®¢æ­å»º"]
series_order=4

showSummary=true

Summary="æ€»ç®—æ˜¯æœ‰è¯„è®ºåŠŸèƒ½äº†ï¼"

+++

ä¸€ä¸ªåšå®¢æ€ä¹ˆèƒ½æ²¡æœ‰è¯„è®ºç³»ç»Ÿï¼Giscusæ˜¯åˆ©ç”¨ [GitHub Discussions](https://docs.github.com/en/discussions) å®ç°çš„è¯„è®ºç³»ç»Ÿï¼Œè®©è®¿å®¢å¯ä»¥å€ŸåŠ© GitHub åœ¨ç½‘ç«™ä¸Šç•™ä¸‹è¯„è®ºå’Œååº”ã€‚éƒ¨ç½²èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå…¶å…·æœ‰ä¸€ä¸‹ç‰¹ç‚¹ï¼ˆæ¥è‡ªå®˜ç½‘ï¼‰ï¼š

- [å¼€æº](https://github.com/giscus/giscus)ã€‚ğŸŒ
- æ— è·Ÿè¸ªï¼Œæ— å¹¿å‘Šï¼Œæ°¸ä¹…å…è´¹ã€‚ğŸ“¡ ğŸš«
- æ— éœ€æ•°æ®åº“ã€‚æ‰€æœ‰æ•°æ®å‡å‚¨å­˜åœ¨ GitHub Discussions ä¸­ã€‚
- æ”¯æŒ[è‡ªå®šä¹‰ä¸»é¢˜](https://github.com/giscus/giscus/blob/main/ADVANCED-USAGE.md#data-theme)ï¼ğŸŒ—
- æ”¯æŒ[å¤šç§è¯­è¨€](https://github.com/giscus/giscus/blob/main/CONTRIBUTING.md#adding-localizations)ã€‚ğŸŒ
- [é«˜å¯é…ç½®æ€§](https://github.com/giscus/giscus/blob/main/ADVANCED-USAGE.md)ã€‚ğŸ”§
- è‡ªåŠ¨ä» GitHub æ‹‰å–æ–°è¯„è®ºä¸ç¼–è¾‘ã€‚ğŸ”ƒ
- [å¯è‡ªå»ºæœåŠ¡](https://github.com/giscus/giscus/blob/main/SELF-HOSTING.md)ï¼ğŸ¤³



## 1. åˆ›å»ºå¹¶é…ç½®Githubä»“åº“

Giscuséœ€è¦ä¾é ä¸€ä¸ªGithubä»“åº“æ¥è¿›è¡Œéƒ¨ç½²ï¼Œä»“åº“éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š

1. **è¯¥ä»“åº“æ˜¯[å…¬å¼€çš„](https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/setting-repository-visibility#making-a-repository-public)**ï¼Œå¦åˆ™è®¿å®¢å°†æ— æ³•æŸ¥çœ‹ discussionã€‚
2. **[giscus](https://github.com/apps/giscus) app å·²å®‰è£…**ï¼Œå¦åˆ™è®¿å®¢å°†æ— æ³•è¯„è®ºå’Œå›åº”ã€‚
3. **Discussions** åŠŸèƒ½å·²[åœ¨ä½ çš„ä»“åº“ä¸­å¯ç”¨](https://docs.github.com/en/github/administering-a-repository/managing-repository-settings/enabling-or-disabling-github-discussions-for-a-repository)ã€‚

### 1.1 åˆ›å»ºä¸€ä¸ªå…¬å¼€çš„Githubä»“åº“

ç›´æ¥åœ¨`Your repositories` ä¸‹newä¸€ä¸ªå°±å¯ä»¥ï¼Œè®°å¾—éœ€è¦é€‰æ‹©`public`

![image-20240925094205574](pic/image-20240925094205574.png)

### 1.2 ä¸ºä»“åº“å¯åŠ¨DiscussionsåŠŸèƒ½

æ‰¾åˆ°`Settings -> General -> Features` ï¼Œå‹¾é€‰`Discussions`

![image-20240925094547956](pic/image-20240925094547956.png)

<img src="../../../../../../tmp/Giscus/pic/image-20240925094631570.png" alt="image-20240925094631570" style="zoom:67%;" />

### 1.3 ä¸ºä»“åº“å®‰è£…Giscus

è¿›å…¥è¿™ä¸ªç½‘å€ï¼š[GitHub Apps - giscus](https://github.com/apps/giscus)ï¼Œç‚¹å‡»å®‰è£…

![https://pic.stilig.me/PicGo%2F202306190919754.webp](pic/PicGo_202306190919754.webp)

ç‚¹å‡»å®‰è£…åï¼Œé€‰æ‹©`Only select repositories`ï¼Œé€‰æ‹©åˆšæ‰åˆ›å»ºçš„ä»“åº“

![image-20240925095330936](pic/image-20240925095330936.png)



## 2. ä»å®˜ç½‘è·å–é…ç½®ä¿¡æ¯

è¯„è®ºåŒºçš„htmlä»£ç ä¸é…ç½®ä¿¡æ¯å¯ä»¥åœ¨å®˜ç½‘è¿›è¡Œè‡ªåŠ¨é…ç½®è·å–ï¼Œé¦–å…ˆè¿›å…¥å®˜ç½‘ï¼š[giscus](https://giscus.app/zh-CN)

### 2.1 å¡«å†™ä»“åº“å

å¦‚å›¾æ‰€ç¤º

<img src="pic/image-20240925095745092.png" alt="image-20240925095745092" style="zoom: 67%;" />

å…¶ä»–é…ç½®å…ˆé»˜è®¤

### 2.2 é…ç½®Discussion åˆ†ç±»

é€‰æ‹© Announcements ç±»å‹å³å¯

![image-20240925095930119](pic/image-20240925095930119.png)

### 2.3 è·å–htmlä»£ç ä¸é…ç½®ä¿¡æ¯

åœ¨`å¯ç”¨giscus`æ ä¸­ï¼Œå³å¯çœ‹åˆ°ç›¸åº”ä»£ç ã€‚

![image-20240925100030847](pic/image-20240925100030847.png)

è¦è®°ä¸‹`data-repo`ï¼Œ`data-repo-id`ï¼Œ`data-category`ï¼Œ`data-category-id`ï¼Œ`data-mapping`è¿™å‡ ä¸ªå€¼ã€‚



## 3. hugoé…ç½®

> è¿™é‡Œä½¿ç”¨çš„ Hugo ä¸€å®šè¦æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä¸ç„¶æ˜¯ä¸æ”¯æŒ Giscus çš„

### 3.1 åˆ›å»ºhtmlæ–‡ä»¶

1. åœ¨hugoé¡¹ç›®ä¸‹ `themes/<ä½ çš„ä¸»é¢˜æ–‡ä»¶å¤¹>/layouts/partials/`ç›®å½•ä¸‹æ–°å»º `comments.html` æ–‡ä»¶ï¼Œå¡«å…¥åˆšæ‰åœ¨å®˜ç½‘è·å–çš„scriptè„šæœ¬ä»£ç å†…å®¹ã€‚

   å¦‚æœä½¿ç”¨`blowfish`ä¸»é¢˜ï¼Œå…·ä½“è·¯å¾„åº”è¯¥æ˜¯`\themes\blowfish\layouts\partials\`

2. åœ¨hugoé¡¹ç›®ä¸‹`themes/<ä½ çš„ä¸»é¢˜æ–‡ä»¶å¤¹>/layouts/_default/single.html`æ–‡ä»¶ä¸‹ï¼ŒåŠ å…¥`{{ partial "comments.html" . }}`

   ```html
   {{ partial "header.html" . }}
   
   {{ .Content }}
   
   <footer class="footline">
   	{{with .Params.LastModifierDisplayName}}
   	    <i class='fas fa-user'></i> <a href="mailto:{{ $.Params.LastModifierEmail }}">{{ . }}</a> {{with $.Date}} <i class='fas fa-calendar'></i> {{ .Format "02/01/2006" }}{{end}}
   	    </div>
   	{{end}}
   </footer>
   
   {{ partial "comments.html" . }}
   {{ partial "footer.html" . }}
   ```

   å¦‚æœä½¿ç”¨`blowfish`ä¸»é¢˜ï¼Œåˆ™æ— éœ€è¿›è¡Œè¿™é¡¹é…ç½®ï¼ˆåŸæœ¬æ–‡ä»¶ä¸­å°±æœ‰ï¼‰

### 3.2 tomlé…ç½®ä¿®æ”¹

è¿›å…¥`\config\_default\params.toml`ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ ¼å¼ï¼Œå¡«å…¥åœ¨å®˜ç½‘è·å–åˆ°çš„é…ç½®ï¼š

```tom
[giscus]
    data-repo="[è‡ªåŠ¨ç”Ÿæˆ]"
    data-repo-id="[è‡ªåŠ¨ç”Ÿæˆ]"
    data-category="[è‡ªåŠ¨ç”Ÿæˆ]"
    data-category-id="[è‡ªåŠ¨ç”Ÿæˆ]"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    data-loading="lazy"
    crossorigin="anonymous"
```

å¦‚å›¾ï¼š

<img src="pic/image-20240925102017370.png" alt="image-20240925102017370" style="zoom:67%;" />

å¦‚æœä½ æ˜¯`blowfish`ä¸»é¢˜ï¼Œè¿˜éœ€è¦åœ¨`[article]`é…ç½®é¡¹ä¸­åŠ å…¥ä¸€è¡Œï¼š`  showComments = true`

![image-20240925101845645](pic/image-20240925101845645.png)

è¿™æ ·å°±å¯ä»¥æ˜¾ç¤ºè¯„è®ºå•¦

![image-20240925101903430](pic/image-20240925101903430.png)



## å‚è€ƒæ–‡çŒ®

[Hugo æ·»åŠ  Giscus è¯„è®º (stilig.me)](https://stilig.me/posts/hugo-adds-giscus/)

[åœ¨Hugoä¸Šé…ç½®giscusè¯„è®º_hugo è¯„è®º giscus-CSDNåšå®¢](https://blog.csdn.net/reallocing1/article/details/128577992)

[giscus](https://giscus.app/zh-CN)

[GitHub Apps - giscus](https://github.com/apps/giscus)

[é…ç½® Â· Blowfish](https://blowfish.page/zh-cn/docs/configuration/#æ–‡ç« é¡µ)

[å±€éƒ¨æ¨¡æ¿(Partials) Â· Blowfish](https://blowfish.page/zh-cn/docs/partials/#è¯„è®º)

